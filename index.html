<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Garden Hermit</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

    <style>
        :root {
            /* COLORS */
            --text-color: #5D2C89; /* Deep Purple */
            --text-outline: #ffffff; /* White outline helps purple pop on green */
            --accent: #FF00FF; /* Hot Pink for links/buttons */
        }

        /* DISCO MODE VARS */
        body.disco-mode {
            --text-color: #00FF00; /* Neon Green */
            --text-outline: #000000;
            --accent: #FFFF00;
            animation: disco-flash 1s infinite;
        }

        @keyframes disco-flash {
            0% { filter: hue-rotate(0deg) contrast(1.2); }
            50% { filter: hue-rotate(180deg) contrast(2); }
            100% { filter: hue-rotate(360deg) contrast(1.2); }
        }

        html { scroll-behavior: smooth; }

        body {
            /* DEEP PURPLE TEXT */
            color: var(--text-color);
            /* White shadow makes the text readable on grass */
            text-shadow: 2px 2px 0px var(--text-outline);
            
            font-family: 'VT323', monospace;
            font-size: 1.5rem; /* Slightly larger for readability without boxes */
            margin: 0;
            padding: 20px;
            
            /* BACKGROUND */
            background-image: url('grass.png');
            background-size: 64px 64px;
            image-rendering: pixelated;
            cursor: url('Cursortest.PNG'), auto;
        }

        /* --- THE LAYOUT (Invisible Grid) --- */
        .bento-grid {
            display: grid;
            grid-template-columns: 200px 1fr 1fr;
            gap: 40px; /* Increased gap since there are no borders */
            max-width: 1200px;
            margin: 0 auto;
        }

        /* INVISIBLE CONTAINER (Structure only, no visuals) */
        .box {
            background: transparent;
            border: none;
            box-shadow: none;
            padding: 10px;
            position: relative;
        }

        /* --- TYPOGRAPHY --- */
        h1 { 
            margin: 0; 
            font-size: 3.5rem; 
            text-transform: uppercase;
            line-height: 1;
        }

        h2 {
            font-size: 2rem;
            border-bottom: 3px dashed var(--text-color);
            display: inline-block;
            margin-bottom: 1rem;
        }

        p { margin-bottom: 1.5rem; font-weight: bold; }

        /* LINKS & BUTTONS */
        a {
            color: var(--text-color);
            text-decoration: underline;
            text-decoration-color: var(--accent);
            text-decoration-thickness: 3px;
        }
        
        a:hover {
            color: var(--accent);
            cursor: url('Cursortest.png'), pointer;
        }

        .btn {
            background: var(--text-color);
            color: #fff;
            text-shadow: none;
            padding: 10px 20px;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
            border: 2px solid #fff;
        }
        .btn:hover {
            background: var(--accent);
            transform: scale(1.05);
        }

        /* --- HEADER & SPEAKER --- */
        .header-box {
            grid-column: 2 / 4;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        /* THE BREATHING SPEAKER */
        .audio-wrapper {
            position: fixed; /* Keeps it in view even when scrolling? Or absolute? */
            /* Let's keep it in the header flow for now, but make it big */
            z-index: 100;
        }

        .audio-btn {
            width: 80px;  /* BIGGER */
            height: 80px;
            cursor: pointer;
            transition: all 0.2s;
        }

        /* Class for when sound is OFF (Breathe to say "Click me!") */
        .breathing {
            animation: breathe 2s infinite ease-in-out;
        }

        @keyframes breathe {
            0% { transform: scale(1); filter: drop-shadow(0 0 0px #fff); }
            50% { transform: scale(1.15); filter: drop-shadow(0 0 10px #fff); }
            100% { transform: scale(1); filter: drop-shadow(0 0 0px #fff); }
        }

        /* --- SECTIONS --- */
        .sidebar-col {
            grid-column: 1 / 2;
            grid-row: 1 / 5;
        }

        .sticky-wrapper {
            position: sticky;
            top: 40px;
        }

        .intro-box { grid-column: 2 / 3; }
        
        .hermitage-scene {
            grid-column: 3 / 4;
            grid-row: 2 / 4;
            min-height: 500px;
            position: relative;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        .seamless-img {
            max-width: 100%;
            /* Make it float slightly? */
            /* animation: floaty 4s infinite ease-in-out; */ 
        }

        .game-box { grid-column: 2 / 3; }
        .deep-text { grid-column: 3 / 4; }
        .footer-box { grid-column: 2 / 4; text-align: center; margin-top: 50px; }

        /* SECRET DISCO SWITCH */
        .secret-switch {
            font-size: 1rem;
            opacity: 0.5;
            cursor: help;
            border: 2px dotted var(--text-color);
            padding: 10px;
            display: inline-block;
            background: rgba(255,255,255,0.2);
        }

        /* --- MOBILE --- */
        @media (max-width: 800px) {
            .bento-grid { display: flex; flex-direction: column; }
            h1 { font-size: 2.5rem; }
            .sidebar-col { order: 99; }
        }
    </style>
</head>
<body>

    <!-- AUDIO FILES -->
    <audio id="bgm-chill" loop>
        <source src="ambience.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgm-disco" loop>
        <!-- Ensure you upload disco.mp3 or this won't play! -->
        <source src="disco.mp3" type="audio/mpeg">
    </audio>

    <div class="bento-grid">

        <!-- LEFT SIDEBAR -->
        <aside class="sidebar-col">
            <div class="sticky-wrapper box">
                <p style="font-size: 1.2rem;">THE HERMIT IS IN.</p>
                <div style="height: 4px; background: var(--text-color); width: 50px; margin-bottom: 20px;"></div>
                
                <a href="mailto:your@email.com" class="btn">EMAIL ME</a>
            </div>
        </aside>

        <!-- HEADER -->
        <header class="header-box box">
            <div>
                <h1>The Hermitage</h1>
                <p style="margin-top:0; font-size: 1.2rem; opacity: 0.8;">A Digital Garden</p>
            </div>
            
            <!-- SPEAKER ICON (Big & Breathing) -->
            <div class="audio-wrapper">
                <!-- NOTE: Using .PNG (Capitalized) as requested -->
                <img id="speaker-icon" src="speakeroff.PNG" class="audio-btn breathing" onclick="toggleChill()">
                <div style="font-size: 0.8rem; text-align: center; margin-top: 5px;">SOUND</div>
            </div>
        </header>

        <!-- INTRO -->
        <div class="intro-box box">
            <h2>Welcome</h2>
            <p>
                No boxes. No corporate walls. <br>
                Just text on grass.
            </p>
            <p>
                I am building a proof of concept. 
                I am not a coder, but I have built this world 
                to show what is possible with a different mind.
            </p>
        </div>

        <!-- THE SCENE -->
        <div class="hermitage-scene box">
            <img src="scenetest.png" class="seamless-img" alt="The Hermit">
            <!-- Optional Waterfall GIF -->
            <!-- <img src="waterfall.gif" style="position:absolute; bottom:0; right:0;" > -->
        </div>

        <!-- THE GAME -->
        <div class="game-box box">
            <h2>The Artifact</h2>
            <p>Interactive Simulation (Godot 4)</p>
            
            <!-- Simple border just to frame the game content -->
            <div style="border: 4px solid var(--text-color); background: #000;">
                <iframe frameborder="0" src="https://itch.io/embed/3196232?bg_color=000000&fg_color=ffffff&link_color=8A2BE2&border_color=000000" width="100%" height="167"></iframe>
            </div>
            
            <a href="https://stefan8102.itch.io/test3" target="_blank" class="btn">FULLSCREEN</a>
        </div>

        <!-- DEEP DIVE -->
        <div class="deep-text box">
            <h2>Philosophy</h2>
            <p>
                Why hire a standard developer when you can consult the Hermit?
            </p>
            <p>
                I offer calm structure in a chaotic digital age.
                Scroll down to find the secret switch.
            </p>
        </div>

        <!-- FOOTER / DISCO -->
        <footer class="footer-box box">
            <p>Â© 2025 The Garden Hermit</p>
            
            <div class="secret-switch" onclick="toggleDisco()">
                CLICK FOR DISCO MODE
            </div>
        </footer>

    </div>

    <!-- SCRIPT -->
    <script>
        var chillAudio = document.getElementById("bgm-chill");
        var discoAudio = document.getElementById("bgm-disco");
        var speakerIcon = document.getElementById("speaker-icon");
        
        var isDisco = false;
        var isPlaying = false; // "Is the chill music currently active?"

        function toggleChill() {
            // If Disco is on, clicking the speaker just turns off disco and resets
            if (isDisco) {
                toggleDisco(); 
                return;
            }

            if (isPlaying) {
                chillAudio.pause();
                speakerIcon.src = "speakeroff.PNG"; // Capital PNG
                speakerIcon.classList.add("breathing"); // Start breathing again
            } else {
                chillAudio.play();
                speakerIcon.src = "speakeron.PNG"; // Capital PNG
                speakerIcon.classList.remove("breathing"); // Stop breathing
            }
            isPlaying = !isPlaying;
        }

        function toggleDisco() {
            isDisco = !isDisco;
            var body = document.body;

            if (isDisco) {
                // DISCO ON
                body.classList.add("disco-mode");
                
                // Mute Chill
                chillAudio.pause();
                
                // Start Disco
                discoAudio.currentTime = 0;
                discoAudio.play();
                
                alert("Let's dance.");
            } else {
                // DISCO OFF
                body.classList.remove("disco-mode");
                
                // Stop Disco
                discoAudio.pause();
                
                // Resume Chill ONLY if it was playing before
                if (isPlaying) {
                    chillAudio.play();
                }
            }
        }
    </script>

</body>
</html>
